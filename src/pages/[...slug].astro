---
import { loadCapturedPages } from "../lib/captured-pages";

export function getStaticPaths() {
  const capturedPages = loadCapturedPages();

  return capturedPages
    .filter((page) => page.pathname !== "/")
    .map((page) => {
      const slug = page.pathname.replace(/^\//, "").split("/").filter(Boolean);
      return {
        params: { slug },
        props: {
          rawHtml: page.rawHtml,
        },
      };
    });
}

const { rawHtml } = Astro.props;
---

<Fragment set:html={rawHtml} />
